<!-- app/templates/partials/period_list.html -->
{% for period in periods %}
<a href="/period/{{ period.id }}"
   class="group relative bg-white rounded-xl border border-slate-200 p-6 shadow-sm hover:shadow-md hover:border-indigo-300 transition-all duration-200 flex flex-col justify-between h-48">
    
    <!-- Lock Badge -->
    {% if period.is_locked %}
    <div class="absolute top-4 right-4 bg-red-100 text-red-600 p-1.5 rounded-full z-10">
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
        </svg>
    </div>
    {% endif %}

    <div class="flex justify-between items-start">
        <div class="p-3 bg-indigo-50 rounded-lg group-hover:bg-indigo-100 transition-colors">
            <svg class="w-6 h-6 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
            </svg>
        </div>
        <span class="bg-slate-100 text-slate-600 text-xs font-semibold px-2.5 py-1 rounded-full group-hover:bg-indigo-50 group-hover:text-indigo-700 transition-colors">
            {{ period.ribs|length }} fichiers
        </span>
    </div>

    <div>
        <h3 class="text-xl font-bold text-slate-800 group-hover:text-indigo-700 transition-colors mb-1">
            {{ period.name }}
        </h3>
        <p class="text-xs text-slate-400 font-medium uppercase tracking-wide">
            Mis à jour le {{ period.created_at.strftime('%d/%m/%Y') }}
        </p>
    </div>
</a>
{% else %}
<div class="col-span-full flex flex-col items-center justify-center py-20 border-2 border-dashed border-slate-300 rounded-xl bg-slate-50/50">
    <div class="w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4">
        <svg class="w-8 h-8 text-slate-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
        </svg>
    </div>
    <h3 class="text-slate-900 font-medium text-lg">Aucun dossier</h3>
    <p class="text-slate-500 text-sm mt-1">Créez votre premier dossier ci-dessus pour commencer.</p>
</div>
{% endfor %}